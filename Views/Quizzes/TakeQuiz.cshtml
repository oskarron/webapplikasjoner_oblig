@model oblig.ViewModels.TakeQuizViewModel

@{
    ViewData["Title"] = "Take Quiz";
}

<h2>@Model.Quiz.Title</h2>

@if (Model.CurrentQuestion != null)
{
    <h4>Question @Model.QuestionIndex + 1 of @Model.Quiz.Questions.Count</h4>
    <p>@Model.CurrentQuestion.Text</p>

    <form asp-action="TakeQuiz" method="post">
        <input type="hidden" name="QuizId" value="@Model.Quiz.Id" />
        <input type="hidden" name="QuestionId" value="@Model.CurrentQuestion.Id" />
        <input type="hidden" name="QuestionIndex" value="@Model.QuestionIndex" />

        @foreach (var answer in Model.CurrentQuestion.Answers)
        {
            <div>
                <input type="radio" name="SelectedAnswerId" value="@answer.Id" required />
                <label>@answer.Text</label>
            </div>
        }

        <button type="submit" class="btn btn-primary mt-3">Submit</button>
    </form>
}
else
{
    <p>No question found.</p>
}